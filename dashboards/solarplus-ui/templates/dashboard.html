<!DOCTYPE html>
<html>

<head>
	<title>SolarPlus</title>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1.0'>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='assets/img/logo.png') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/materialize.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/dashboard.css') }}">

	<!-- <link rel="stylesheet" type="text/css" href="static/styles/css/materialize.css">
	<link rel="stylesheet" type="text/css" href="static/styles/css/nouislider.css"> -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

</head>

<body id="body">
	<div class="navbar-fixed">
		<nav>
			<div class="nav-wrapper tp-blue">
				<a href="/index" class="brand-logo">SolarPlus</a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li class="active"><a href="#">Dashboard</a></li>
					<li><a href="/setpoints">Setpoints</a></li>
					<li><a href="/weather">Weather</a></li>
					<!-- <li><a href="/DR">DR</a></li> -->
					<li><a href="/intelligence">Intelligence</a></li>
					<li><a id="logout-button" href="/logout">Logout</a></li>
				</ul>
			</div>

		</nav>
	</div>

	<div class="row" id="DRROW" style="display: none;"></div>
	<div class="row"></div>
	<div class="row"></div>

		
		<div class="chart-container"; id="chart1" >		
	 	</div>

	    <div class="chart-container"; id="chart2" >
	    </div>
	
	    <div class="chart-container"; id="Chart3" >
	    </div>
	
	    <div class="chart-container"; id="Chart4" >
	    </div>
	
	
	
</body>
<script>
	document.getElementById('logout-button').addEventListener('click', (event) => {
		event.preventDefault()

		const signoutWindow = window.open(
			'https://dev-693782.okta.com/login/signout',
			'okta-signout',
			//'height=1,width=1',
			'toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=10, height=10, visible=none'
		)

		setTimeout(() => {

			signoutWindow.close()
			window.location = document.getElementById('logout-button').href
		}, 1000)
	})
	// Can't do this because the js file containing the function is loaded after 
	// document.getElementById('chart1').addEventListener('load', graphDataCollection_Chart1);
</script>

<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/highcharts.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/materialize.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/drilldown.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/jquery.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/index/dashboard-graphs.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/index/floorplan.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/script.js') }}"></script>

</html>