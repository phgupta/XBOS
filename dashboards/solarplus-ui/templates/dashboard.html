<!DOCTYPE html>
<html>

<head>
	<title>SolarPlus</title>
	<meta charset='utf-8'>
	<script type="text/javascript"></script>
	<meta name='viewport' content='width=device-width,initial-scale=1.0'>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='assets/img/logo.png') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/materialize.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='assets/css/dashboard.css') }}">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="{{url_for('static', filename='assets/js/preloader.js') }}"></script>
	<link rel="stylesheet" type="text/css" media="screen"
		href="{{ url_for('static', filename='assets/css/particles.css') }}">

	<!-- <link rel="stylesheet" type="text/css" href="static/styles/css/materialize.css">
	<link rel="stylesheet" type="text/css" href="static/styles/css/nouislider.css"> -->
	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

</head>

<body id="body">
	<div class="preloader">
		<img src="{{ url_for('static', filename='assets/img/preloader.gif') }}" alt="preloader">
	</div>
	<div id="particles-js"></div>
	<div class="">
		<nav>
			<div class="nav-wrapper dashe-blue">
				<a href="/index" class="brand-logo">SolarPlus</a>
				<a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
				<ul class="right hide-on-med-and-down">
					<li>
						<div id="intelligent-control"></div>
					</li>
					<li>
						<a id="intelligence-control-on-off">Intelligent Control off</a>
					</li>
					<li class="active"><a href="#">Dashboard</a></li>
					<li><a href="/setpoints">Setpoints</a></li>
					<li><a href="/weather">Weather</a></li>
					<li><a href="/analysis">Analysis</a></li>
					<li><a href="/intelligence">Intelligence</a></li>
					<li><a href="/contact">Contact</a></li>
					<li><a id="logout-button" href="/logout">Logout</a></li>
				</ul>
				<ul class="sidenav" id="mobile-demo">

					<li><a href="/dashboard">Dashboard</a></li>
					<li><a href="/setpoints">Setpoints</a></li>
					<li><a href="/weather">Weather</a></li>
					<li><a href="/analysis">Analysis</a></li>
					<li><a href="/intelligence">Intelligence</a></li>
					<li><a href="/contact">Contact</a></li>
					<li><a id="logout-button" href="/logout">Logout</a></li>
				</ul>
			</div>

		</nav>
	</div>

	<div class="row" id="DRROW" style="display: none;"></div>
	<div class="row"></div>
	<div class="row"></div>







	<div class="row card-margin">


		<div class="col s10 offset-s1">
			<div class="card">
				<div class="card-content">
					<span class="card-title">Total Power Consumption</span>

					<div class="chart-container" ; id="chart1">
						  </div>
				</div>
			</div>
		</div>

		<div class="col s10 offset-s1">
			<div class="card">
				<div class="card-content">
					<span class="card-title">HVAC Power Consumption</span>
					    <div class="chart-container" ; id="chart2">
					    </div>
				</div>
			</div>
		</div>

	</div>
	<div class="row card-margin">
		<div class="col s10 offset-s1">
			<div class="card">
				<div class="card-content">
					<span class="card-title">Average Power Consumption</span>

					<div class="chart-container" ; id="chart3">
						  </div>
				</div>
			</div>
		</div>

		<div class="col s10 offset-s1">
			<div class="card">
				<div class="card-content">
					<span class="card-title">Average Power Consumption</span>

					<div class="chart-container" ; id="chart4">
						  </div>
				</div>
			</div>
		</div>
	</div>



</body>

<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/highcharts.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/materialize.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/drilldown.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/lib/jquery.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/index/dashboard-graphs.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/script.js') }}"></script>


<script>
	document.getElementById('logout-button').addEventListener('click', (event) => {
		event.preventDefault()

		const signoutWindow = window.open(
			'https://dev-693782.okta.com/login/signout',
			'okta-signout',
			//'height=1,width=1',
			'toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=10, height=10, visible=none'
		)

		setTimeout(() => {

			signoutWindow.close()
			window.location = document.getElementById('logout-button').href
		}, 1000)
	})
	// Can't do this because the js file containing the function is loaded after 
	// document.getElementById('chart1').addEventListener('load', graphDataCollection_Chart1);
</script>

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
<script type="text/javascript" src="{{url_for('static', filename='assets/js/particles.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/app.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/logout.js') }}"></script>
<script type="text/javascript" src="{{url_for('static', filename='assets/js/navbar.js') }}"></script>

</html>